<html>
    <head>
        <meta charset="UTF-8" />
        <title>구구단</title>
    </head>
    <body>
        <div id="root"></div>
        <script
            crossorigin
            src="https://unpkg.com/react@16/umd/react.development.js"
        ></script>
        <!-- 남의 코드 불러오기 -->
        <script
            crossorigin
            src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
        ></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
        <!-- 바벨 부르기 -->

        <script type="text/babel">
            // 바벨 설정
            "use strict";
            const GuGuDan = () => {
                // 화살표 함수
                const [first, setFirst] = React.useState(
                    Math.ceil(Math.random() * 9) //변수 설정, 기본값과 값이 바뀌는 함수가 들어감
                );
                const [second, setSecond] = React.useState(
                    Math.ceil(Math.random() * 9)
                );
                const [value, setValue] = React.useState("");
                const [result, setResult] = React.useState("");
                const inputEl = React.useRef(null);

                const onSubmitForm = (e) => {
                    e.preventDefault(); //이벤트 멈추기
                    if (parseInt(value) === first * second) {
                        //입력값과 정답 비교한 후 결과 출력
                        setResult("정답");
                        setFirst(Math.ceil(Math.random() * 9));
                        setSecond(Math.ceil(Math.random() * 9));
                        setValue("");
                        inputEl.current.focus();
                    } else {
                        setResult("땡");
                        setValue("");
                        inputEl.current.focus(); //포커스 상태로 만들어 줌
                    }
                };
                return (
                    // 반환
                    <React.Fragment>
                        <div>
                            {first} 곱하기 {second}는?
                        </div>
                        <form onSubmit={onSubmitForm}>
                            <input
                                ref={inputEl}
                                type="number"
                                value={value}
                                onChange={(e) => setValue(e.target.value)}
                            />
                            <button>입력!</button>
                        </form>
                        <div id="result">{result}</div>
                    </React.Fragment>
                );
            };
        </script>
        <script type="text/babel">
            ReactDOM.render(<GuGuDan />, document.querySelector("#root"));
        </script>
    </body>
</html>
